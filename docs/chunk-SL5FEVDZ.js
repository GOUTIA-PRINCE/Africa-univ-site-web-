import{a as Q}from"./chunk-RLJMMUXE.js";import{a as z,c as L,d as B,e as D,f as R,g as H,h as q,l as $,m as Y,n as G,o as J,q as K,s as X}from"./chunk-LD2MMBCB.js";import{$a as x,Ab as F,Bb as W,Da as C,Gb as j,Ja as u,Ka as M,L as E,La as t,Ma as n,Na as _,Qa as b,R as w,Ra as p,Sa as c,X as m,Xa as o,Y as g,Ya as f,Za as P,_a as A,a as S,ab as v,bb as h,fb as T,hb as V,pa as y,ra as l,wb as U,xb as I,yb as N,za as k}from"./chunk-JEBBGWU2.js";var O=class s{http=w(j);apiUrl="http://localhost:3000/api/admin";getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")}`}}getUsers(){return this.http.get(`${this.apiUrl}/users`,{headers:this.getHeaders()})}addUser(r,e){let a=new FormData;return a.append("firstName",r.firstName),a.append("lastName",r.lastName),a.append("email",r.email),a.append("password",r.password),e&&a.append("profilePicture",e),this.http.post(`${this.apiUrl}/users`,a,{headers:this.getHeaders()})}updateUserRole(r,e){return this.http.put(`${this.apiUrl}/users/${r}/role`,{role:e},{headers:this.getHeaders()})}deleteUser(r){return this.http.delete(`${this.apiUrl}/users/${r}`,{headers:this.getHeaders()})}getMessages(){return this.http.get(`${this.apiUrl}/messages`,{headers:this.getHeaders()})}deleteMessage(r){return this.http.delete(`${this.apiUrl}/messages/${r}`,{headers:this.getHeaders()})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=E({token:s,factory:s.\u0275fac,providedIn:"root"})};function te(s,r){if(s&1){let e=b();t(0,"button",21),p("click",function(){m(e);let i=c();return g(i.openAddModal())}),_(1,"i",22),o(2," Nouveau Produit "),n()}}function ne(s,r){if(s&1){let e=b();t(0,"button",23),p("click",function(){m(e);let i=c();return g(i.showCategoryModal=!0)}),_(1,"i",24),o(2," Nouvelle Cat\xE9gorie "),n()}}function ie(s,r){if(s&1){let e=b();t(0,"button",21),p("click",function(){m(e);let i=c();return g(i.openAddUserModal())}),_(1,"i",25),o(2," Nouvel Utilisateur "),n()}}function re(s,r){if(s&1){let e=b();t(0,"tr")(1,"td"),_(2,"img",28),n(),t(3,"td")(4,"div",29)(5,"strong"),o(6),n(),t(7,"small"),o(8),n()()(),t(9,"td")(10,"span",30),o(11),n()(),t(12,"td")(13,"strong"),o(14),n()(),t(15,"td",31)(16,"button",32),p("click",function(){let i=m(e).$implicit,d=c(2);return g(d.openEditModal(i))}),_(17,"i",33),n(),t(18,"button",34),p("click",function(){let i=m(e).$implicit,d=c(2);return g(d.deleteProduct(i.id))}),_(19,"i",35),n()()()}if(s&2){let e=r.$implicit;l(2),u("src",e.image,y)("alt",e.name),l(4),f(e.name),l(2),P("",e.description==null?null:e.description.substring(0,50),"..."),l(3),f(e.category),l(3),P("",e.price," FCFA")}}function oe(s,r){if(s&1&&(t(0,"div",26)(1,"table")(2,"thead")(3,"tr")(4,"th"),o(5,"Image"),n(),t(6,"th"),o(7,"Produit"),n(),t(8,"th"),o(9,"Cat\xE9gorie"),n(),t(10,"th"),o(11,"Prix"),n(),t(12,"th"),o(13,"Actions"),n()()(),t(14,"tbody"),C(15,re,20,6,"tr",27),n()()()),s&2){let e=c();l(15),u("ngForOf",e.products)}}function ae(s,r){if(s&1){let e=b();t(0,"tr")(1,"td")(2,"div",36)(3,"img",37),p("error",function(i){let d=m(e).$implicit;return g(i.target.src="https://ui-avatars.com/api/?name="+d.firstName)}),n()()(),t(4,"td")(5,"div",38)(6,"strong"),o(7),n(),t(8,"span",39),o(9),n()()(),t(10,"td"),o(11),n(),t(12,"td")(13,"span",40),o(14),n()(),t(15,"td",31)(16,"button",41),p("click",function(){let i=m(e).$implicit,d=c(2);return g(d.toggleUserRole(i))}),_(17,"i",42),n(),t(18,"button",43),p("click",function(){let i=m(e).$implicit,d=c(2);return g(d.deleteUser(i.id))}),_(19,"i",35),n()()()}if(s&2){let e,a,i=r.$implicit,d=c(2);l(3),u("src","http://localhost:3000/"+i.profilePicture,y),l(4),A("",i.firstName," ",i.lastName,""),l(2),P("ID: ",i.id,""),l(2),f(i.email),l(2),M("admin",i.role==="admin"),l(),P(" ",i.role==="admin"?"Administrateur":"Client"," "),l(2),u("title",i.role==="admin"?"Rendre client":"Rendre admin")("disabled",i.id===((e=d.authService.getUser())==null?null:e.id)),l(),u("ngClass",i.role==="admin"?"fa-user-minus":"fa-user-shield"),l(),u("disabled",i.id===((a=d.authService.getUser())==null?null:a.id))}}function le(s,r){if(s&1&&(t(0,"div",26)(1,"table")(2,"thead")(3,"tr")(4,"th"),o(5,"Avatar"),n(),t(6,"th"),o(7,"Utilisateur"),n(),t(8,"th"),o(9,"Email"),n(),t(10,"th"),o(11,"R\xF4le"),n(),t(12,"th"),o(13,"Actions"),n()()(),t(14,"tbody"),C(15,ae,20,12,"tr",27),n()()()),s&2){let e=c();l(15),u("ngForOf",e.users)}}function se(s,r){if(s&1){let e=b();t(0,"tr")(1,"td"),o(2),T(3,"date"),n(),t(4,"td")(5,"div",38)(6,"strong"),o(7),n(),t(8,"span",39),o(9),n()()(),t(10,"td")(11,"strong"),o(12),n()(),t(13,"td")(14,"div",45),o(15),n()(),t(16,"td",31)(17,"button",34),p("click",function(){let i=m(e).$implicit,d=c(2);return g(d.deleteMessage(i.id))}),_(18,"i",35),n()()()}if(s&2){let e=r.$implicit;l(2),f(V(3,6,e.date,"dd/MM/yyyy HH:mm")),l(5),f(e.name),l(2),f(e.email),l(3),f(e.subject),l(2),u("title",e.message),l(),P(" ",e.message," ")}}function de(s,r){s&1&&(t(0,"tr")(1,"td",46),o(2," Aucun message re\xE7u pour le moment. "),n()())}function ce(s,r){if(s&1&&(t(0,"div",26)(1,"table")(2,"thead")(3,"tr")(4,"th"),o(5,"Date"),n(),t(6,"th"),o(7,"Exp\xE9diteur"),n(),t(8,"th"),o(9,"Sujet"),n(),t(10,"th"),o(11,"Message"),n(),t(12,"th"),o(13,"Actions"),n()()(),t(14,"tbody"),C(15,se,19,9,"tr",27)(16,de,3,0,"tr",44),n()()()),s&2){let e=c();l(15),u("ngForOf",e.messages),l(),u("ngIf",e.messages.length===0)}}function me(s,r){if(s&1){let e=b();t(0,"div",47)(1,"div",48)(2,"h3",49),_(3,"i",50),o(4," Param\xE8tres du catalogue "),n(),t(5,"div",51)(6,"label",52),o(7," Prix maximum du filtre (FCFA) "),n(),t(8,"p",53),o(9," D\xE9finit la limite sup\xE9rieure du curseur de prix dans le catalogue pour les clients. "),n(),t(10,"input",54),h("ngModelChange",function(i){m(e);let d=c();return v(d.settings.maxPriceLimit,i)||(d.settings.maxPriceLimit=i),g(i)}),n()(),t(11,"div",55)(12,"button",21),p("click",function(){m(e);let i=c();return g(i.saveSettings())}),_(13,"i",56),o(14," Enregistrer les modifications "),n()()()()}if(s&2){let e=c();l(10),x("ngModel",e.settings.maxPriceLimit)}}function ge(s,r){if(s&1&&(t(0,"div",75),_(1,"img",76),n()),s&2){let e=c(2);l(),u("src",e.imagePreview,y)}}function pe(s,r){if(s&1){let e=b();t(0,"div",57)(1,"div",58)(2,"div",59)(3,"h2"),o(4,"Ajouter un Nouvel Utilisateur"),n(),t(5,"button",60),p("click",function(){m(e);let i=c();return g(i.showUserModal=!1)}),o(6,"\xD7"),n()(),t(7,"form",61),p("ngSubmit",function(){m(e);let i=c();return g(i.saveUser())}),t(8,"div",62)(9,"div",51)(10,"label"),o(11,"Pr\xE9nom"),n(),t(12,"input",63),h("ngModelChange",function(i){m(e);let d=c();return v(d.newUser.firstName,i)||(d.newUser.firstName=i),g(i)}),n()(),t(13,"div",51)(14,"label"),o(15,"Nom"),n(),t(16,"input",64),h("ngModelChange",function(i){m(e);let d=c();return v(d.newUser.lastName,i)||(d.newUser.lastName=i),g(i)}),n()()(),t(17,"div",51)(18,"label"),o(19,"Email"),n(),t(20,"input",65),h("ngModelChange",function(i){m(e);let d=c();return v(d.newUser.email,i)||(d.newUser.email=i),g(i)}),n()(),t(21,"div",51)(22,"label"),o(23,"Mot de passe"),n(),t(24,"input",66),h("ngModelChange",function(i){m(e);let d=c();return v(d.newUser.password,i)||(d.newUser.password=i),g(i)}),n()(),t(25,"div",51)(26,"label"),o(27,"Photo de profil (Optionnel)"),n(),t(28,"div",67)(29,"input",68),p("change",function(i){m(e);let d=c();return g(d.onFileSelected(i))}),n(),t(30,"label",69),_(31,"i",70),o(32),n()(),C(33,ge,2,1,"div",71),n(),t(34,"div",72)(35,"button",73),p("click",function(){m(e);let i=c();return g(i.showUserModal=!1)}),o(36,"Annuler"),n(),t(37,"button",74),o(38,"Cr\xE9er le compte"),n()()()()()}if(s&2){let e=c();l(12),x("ngModel",e.newUser.firstName),l(4),x("ngModel",e.newUser.lastName),l(4),x("ngModel",e.newUser.email),l(4),x("ngModel",e.newUser.password),l(8),P(" ",e.selectedFileName||"Choisir une photo..."," "),l(),u("ngIf",e.imagePreview)}}function ue(s,r){if(s&1&&(t(0,"option",84),o(1),n()),s&2){let e=r.$implicit;u("value",e),l(),f(e)}}function _e(s,r){if(s&1&&(t(0,"div",75),_(1,"img",76),n()),s&2){let e=c(2);l(),u("src",e.imagePreview,y)}}function fe(s,r){if(s&1){let e=b();t(0,"div",57)(1,"div",58)(2,"div",59)(3,"h2"),o(4),n(),t(5,"button",60),p("click",function(){m(e);let i=c();return g(i.closeModal())}),o(6,"\xD7"),n()(),t(7,"form",61),p("ngSubmit",function(){m(e);let i=c();return g(i.saveProduct())}),t(8,"div",51)(9,"label"),o(10,"Nom du produit"),n(),t(11,"input",77),h("ngModelChange",function(i){m(e);let d=c();return v(d.currentProduct.name,i)||(d.currentProduct.name=i),g(i)}),n()(),t(12,"div",62)(13,"div",51)(14,"label"),o(15,"Prix (FCFA)"),n(),t(16,"input",78),h("ngModelChange",function(i){m(e);let d=c();return v(d.currentProduct.price,i)||(d.currentProduct.price=i),g(i)}),n()(),t(17,"div",51)(18,"label"),o(19,"Cat\xE9gorie"),n(),t(20,"select",79),h("ngModelChange",function(i){m(e);let d=c();return v(d.currentProduct.category,i)||(d.currentProduct.category=i),g(i)}),C(21,ue,2,2,"option",80),n()()(),t(22,"div",51)(23,"label"),o(24,"Description"),n(),t(25,"textarea",81),h("ngModelChange",function(i){m(e);let d=c();return v(d.currentProduct.description,i)||(d.currentProduct.description=i),g(i)}),n()(),t(26,"div",51)(27,"label"),o(28,"Image du produit"),n(),t(29,"div",67)(30,"input",82),p("change",function(i){m(e);let d=c();return g(d.onFileSelected(i))}),n(),t(31,"label",83),_(32,"i",70),o(33),n()(),C(34,_e,2,1,"div",71),n(),t(35,"div",72)(36,"button",73),p("click",function(){m(e);let i=c();return g(i.closeModal())}),o(37,"Annuler"),n(),t(38,"button",74),o(39,"Enregistrer"),n()()()()()}if(s&2){let e=c();l(4),f(e.isEditing?"Modifier le Produit":"Ajouter un Produit"),l(7),x("ngModel",e.currentProduct.name),l(5),x("ngModel",e.currentProduct.price),l(4),x("ngModel",e.currentProduct.category),l(),u("ngForOf",e.categories),l(4),x("ngModel",e.currentProduct.description),l(8),P(" ",e.selectedFileName||"Choisir une image..."," "),l(),u("ngIf",e.imagePreview)}}function be(s,r){if(s&1){let e=b();t(0,"div",91)(1,"span"),o(2),n(),t(3,"button",43),p("click",function(){let i=m(e).$implicit,d=c(2);return g(d.deleteCategory(i))}),_(4,"i",35),n()()}if(s&2){let e=r.$implicit;l(2),f(e),l(),u("disabled",e==="autres")}}function Ce(s,r){if(s&1){let e=b();t(0,"div",57)(1,"div",85)(2,"div",59)(3,"h2"),o(4,"Ajouter une Cat\xE9gorie"),n(),t(5,"button",60),p("click",function(){m(e);let i=c();return g(i.showCategoryModal=!1)}),o(6,"\xD7"),n()(),t(7,"div",86)(8,"div",87),C(9,be,5,2,"div",88),n(),t(10,"form",61),p("ngSubmit",function(){m(e);let i=c();return g(i.addNewCategory())}),t(11,"div",51)(12,"label"),o(13,"Nom de la nouvelle cat\xE9gorie"),n(),t(14,"input",89),h("ngModelChange",function(i){m(e);let d=c();return v(d.newCategory,i)||(d.newCategory=i),g(i)}),n()(),t(15,"div",90)(16,"button",73),p("click",function(){m(e);let i=c();return g(i.showCategoryModal=!1)}),o(17,"Fermer"),n(),t(18,"button",74),o(19,"Ajouter"),n()()()()()()}if(s&2){let e=c();l(9),u("ngForOf",e.categories),l(5),x("ngModel",e.newCategory)}}var Z=class s{productService=w(Q);adminService=w(O);authService=w(X);products=[];users=[];messages=[];activeTab="products";showModal=!1;showUserModal=!1;showCategoryModal=!1;isEditing=!1;selectedFile=null;selectedFileName="";imagePreview=null;categories=[];newCategory="";settings={maxPriceLimit:1e6};currentProduct={id:0,name:"",price:0,description:"",image:"",category:"autres"};newUser={firstName:"",lastName:"",email:"",password:""};ngOnInit(){this.loadProducts(),this.loadUsers(),this.loadMessages(),this.loadCategories(),this.loadSettings()}loadMessages(){this.adminService.getMessages().subscribe(r=>{console.log("Messages charg\xE9s:",r.length),this.messages=r})}deleteMessage(r){confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce message ?")&&this.adminService.deleteMessage(r).subscribe(()=>{this.loadMessages()})}switchTab(r){this.activeTab=r,r==="messages"&&this.loadMessages(),r==="users"&&this.loadUsers(),r==="products"&&this.loadProducts(),r==="settings"&&this.loadSettings()}openAddUserModal(){this.newUser={firstName:"",lastName:"",email:"",password:""},this.selectedFile=null,this.selectedFileName="",this.imagePreview=null,this.showUserModal=!0}saveUser(){this.adminService.addUser(this.newUser,this.selectedFile||void 0).subscribe({next:()=>{this.loadUsers(),this.showUserModal=!1},error:r=>{alert(r.error?.message||"Erreur lors de la cr\xE9ation de l'utilisateur")}})}loadProducts(){this.productService.getProducts().subscribe(r=>{this.products=r})}loadCategories(){this.productService.getCategories().subscribe(r=>{this.categories=r,!this.isEditing&&this.categories.length>0&&(this.currentProduct.category=this.categories[0])})}addNewCategory(){this.newCategory.trim()&&this.productService.addCategory(this.newCategory).subscribe({next:()=>{this.loadCategories(),this.newCategory="",this.showCategoryModal=!1},error:r=>alert(r.error?.message||"Erreur lors de l'ajout de la cat\xE9gorie")})}deleteCategory(r){confirm(`Voulez-vous vraiment supprimer la cat\xE9gorie "${r}" ? Les produits associ\xE9s seront d\xE9plac\xE9s vers "autres".`)&&this.productService.deleteCategory(r).subscribe({next:()=>{this.loadCategories(),this.loadProducts()},error:e=>alert(e.error?.message||"Erreur lors de la suppression de la cat\xE9gorie")})}loadSettings(){this.productService.getSettings().subscribe(r=>{this.settings=r})}saveSettings(){this.productService.updateSettings(this.settings).subscribe({next:()=>alert("Param\xE8tres mis \xE0 jour avec succ\xE8s"),error:r=>alert("Erreur lors de la mise \xE0 jour des param\xE8tres")})}loadUsers(){this.adminService.getUsers().subscribe(r=>{this.users=r})}toggleUserRole(r){let e=r.role==="admin"?"user":"admin";confirm(`Voulez-vous vraiment passer ${r.firstName} au r\xF4le ${e} ?`)&&this.adminService.updateUserRole(r.id,e).subscribe(()=>{this.loadUsers()})}deleteUser(r){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ?")&&this.adminService.deleteUser(r).subscribe(()=>{this.loadUsers()},e=>{alert(e.error?.message||"Erreur lors de la suppression")})}onFileSelected(r){let e=r.target.files[0];if(e){this.selectedFile=e,this.selectedFileName=e.name;let a=new FileReader;a.onload=()=>{this.imagePreview=a.result},a.readAsDataURL(e)}}openAddModal(){this.isEditing=!1,this.selectedFile=null,this.selectedFileName="",this.imagePreview=null,this.currentProduct={id:0,name:"",price:0,description:"",image:"",category:this.categories.length>0?this.categories[0]:"autres"},this.showModal=!0}openEditModal(r){this.isEditing=!0,this.selectedFile=null,this.selectedFileName="",this.imagePreview=r.image,this.currentProduct=S({},r),this.showModal=!0}closeModal(){this.showModal=!1}saveProduct(){if(this.isEditing)this.productService.updateProduct(this.currentProduct,this.selectedFile||void 0).subscribe(()=>{this.loadProducts(),this.closeModal()});else{if(!this.selectedFile){alert("Veuillez s\xE9lectionner une image");return}this.productService.addProduct(this.currentProduct,this.selectedFile).subscribe(()=>{this.loadProducts(),this.closeModal()})}}deleteProduct(r){confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce produit ?")&&this.productService.deleteProduct(r).subscribe(()=>{this.loadProducts()})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=k({type:s,selectors:[["app-admin"]],decls:62,vars:29,consts:[[1,"admin-dashboard"],[1,"admin-header"],[1,"header-content"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary","style","margin-left: 10px;",3,"click",4,"ngIf"],[1,"stats-grid"],[1,"stat-card",3,"click"],[1,"stat-icon"],[1,"fas","fa-box"],[1,"stat-info"],[1,"label"],[1,"value"],[1,"fas","fa-users"],[1,"fas","fa-envelope"],[1,"fas","fa-cog"],[1,"admin-tabs"],[3,"click"],[1,"content-card"],["class","table-responsive",4,"ngIf"],["class","settings-container","style","padding: 2rem;",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"btn","btn-secondary",2,"margin-left","10px",3,"click"],[1,"fas","fa-tags"],[1,"fas","fa-user-plus"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"table-img",3,"src","alt"],[1,"product-name-cell"],[1,"badge"],[1,"actions"],["title","Modifier",1,"btn-icon","edit",3,"click"],[1,"fas","fa-edit"],["title","Supprimer",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],[1,"user-avatar-small"],["alt","Avatar",3,"error","src"],[1,"user-info-cell"],[1,"user-id"],[1,"role-badge"],[1,"btn-icon","role-toggle",3,"click","title","disabled"],[1,"fas",3,"ngClass"],["title","Supprimer",1,"btn-icon","delete",3,"click","disabled"],[4,"ngIf"],[1,"message-preview",3,"title"],["colspan","5",2,"text-align","center","padding","2rem"],[1,"settings-container",2,"padding","2rem"],[2,"max-width","600px","margin","0 auto","background","#f8f9fa","padding","2rem","border-radius","12px"],[2,"margin-bottom","2rem","color","var(--secondary-color)"],[1,"fas","fa-sliders-h",2,"margin-right","10px"],[1,"form-group"],[2,"display","block","margin-bottom","0.5rem","font-weight","600"],[2,"font-size","0.85rem","color","#666","margin-bottom","1rem"],["type","number",2,"width","100%","padding","0.75rem","border","1px solid #ddd","border-radius","8px","font-size","1rem",3,"ngModelChange","ngModel"],[2,"margin-top","2rem","display","flex","justify-content","flex-end"],[1,"fas","fa-save",2,"margin-right","8px"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[3,"ngSubmit"],[1,"form-row"],["type","text","name","firstName","required","",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],[1,"file-input-container"],["type","file","accept","image/*","id","userImage",1,"file-input",3,"change"],["for","userImage",1,"file-label"],[1,"fas","fa-cloud-upload-alt"],["class","image-preview",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"image-preview"],["alt","Aper\xE7u",3,"src"],["type","text","name","name","required","","placeholder","Ex: Casque Audio",3,"ngModelChange","ngModel"],["type","number","name","price","required","",3,"ngModelChange","ngModel"],["name","category",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","description","rows","3",3,"ngModelChange","ngModel"],["type","file","accept","image/*","id","productImage",1,"file-input",3,"change"],["for","productImage",1,"file-label"],[3,"value"],[1,"modal-content",2,"max-width","400px"],[1,"modal-body",2,"padding","1.5rem"],[1,"category-list",2,"max-height","200px","overflow-y","auto","margin-bottom","1.5rem","border","1px solid #eee","border-radius","8px"],["style","display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; border-bottom: 1px solid #eee;",4,"ngFor","ngForOf"],["type","text","name","categoryName","required","","placeholder","Ex: R\xE9seau",3,"ngModelChange","ngModel"],[1,"modal-footer",2,"padding","0","border-top","none","margin-top","1rem"],[2,"display","flex","justify-content","space-between","align-items","center","padding","0.75rem","border-bottom","1px solid #eee"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),o(4,"Tableau de bord Admin"),n(),C(5,te,3,0,"button",3)(6,ne,3,0,"button",4)(7,ie,3,0,"button",3),n(),t(8,"div",5)(9,"div",6),p("click",function(){return a.switchTab("products")}),t(10,"div",7),_(11,"i",8),n(),t(12,"div",9)(13,"span",10),o(14,"Total Produits"),n(),t(15,"span",11),o(16),n()()(),t(17,"div",6),p("click",function(){return a.switchTab("users")}),t(18,"div",7),_(19,"i",12),n(),t(20,"div",9)(21,"span",10),o(22,"Total Utilisateurs"),n(),t(23,"span",11),o(24),n()()(),t(25,"div",6),p("click",function(){return a.switchTab("messages")}),t(26,"div",7),_(27,"i",13),n(),t(28,"div",9)(29,"span",10),o(30,"Nouveaux Messages"),n(),t(31,"span",11),o(32),n()()(),t(33,"div",6),p("click",function(){return a.switchTab("settings")}),t(34,"div",7),_(35,"i",14),n(),t(36,"div",9)(37,"span",10),o(38,"Configuration"),n(),t(39,"span",11),o(40,"Param\xE8tres"),n()()()()(),t(41,"div",15)(42,"button",16),p("click",function(){return a.switchTab("products")}),_(43,"i",8),o(44," Produits "),n(),t(45,"button",16),p("click",function(){return a.switchTab("users")}),_(46,"i",12),o(47," Gestion Utilisateurs "),n(),t(48,"button",16),p("click",function(){return a.switchTab("messages")}),_(49,"i",13),o(50," Messages "),n(),t(51,"button",16),p("click",function(){return a.switchTab("settings")}),_(52,"i",14),o(53," Param\xE8tres "),n()(),t(54,"div",17),C(55,oe,16,1,"div",18)(56,le,16,1,"div",18)(57,ce,17,2,"div",18)(58,me,15,1,"div",19),n(),C(59,pe,39,6,"div",20)(60,fe,40,8,"div",20)(61,Ce,20,2,"div",20),n()),e&2&&(l(5),u("ngIf",a.activeTab==="products"),l(),u("ngIf",a.activeTab==="products"),l(),u("ngIf",a.activeTab==="users"),l(2),M("active",a.activeTab==="products"),l(7),f(a.products.length),l(),M("active",a.activeTab==="users"),l(7),f(a.users.length),l(),M("active",a.activeTab==="messages"),l(7),f(a.messages.length),l(),M("active",a.activeTab==="settings"),l(9),M("active",a.activeTab==="products"),l(3),M("active",a.activeTab==="users"),l(3),M("active",a.activeTab==="messages"),l(3),M("active",a.activeTab==="settings"),l(4),u("ngIf",a.activeTab==="products"),l(),u("ngIf",a.activeTab==="users"),l(),u("ngIf",a.activeTab==="messages"),l(),u("ngIf",a.activeTab==="settings"),l(),u("ngIf",a.showUserModal),l(),u("ngIf",a.showModal),l(),u("ngIf",a.showCategoryModal))},dependencies:[W,U,I,N,F,K,H,Y,G,z,q,$,L,B,J,R,D],styles:['.admin-dashboard[_ngcontent-%COMP%]{padding:2rem;background-color:#f0f2f5;min-height:calc(100vh - 80px)}.admin-header[_ngcontent-%COMP%]{margin-bottom:2rem}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--secondary-color);margin:0}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:var(--white);padding:1.5rem;border-radius:12px;display:flex;align-items:center;gap:1rem;box-shadow:0 4px 6px #0000000d;cursor:pointer;transition:all .2s}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #0000001a}.stats-grid[_ngcontent-%COMP%]   .stat-card.active[_ngcontent-%COMP%]{border:2px solid var(--primary-color);background-color:#e67e2205}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:#e67e221a;color:var(--primary-color);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:var(--text-light);font-size:.85rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:var(--secondary-color)}.admin-tabs[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;border-bottom:2px solid #eee;padding-bottom:0}.admin-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem 2rem;border:none;background:none;font-weight:600;color:#64748b;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.5rem;position:relative}.admin-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .admin-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--primary-color)}.admin-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:var(--primary-color)}.user-avatar-small[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;background-color:#f1f5f9;border:2px solid #fff;box-shadow:0 0 5px #0000001a}.user-avatar-small[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-info-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-info-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b}.user-info-cell[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{font-size:.7rem;color:#94a3b8}.role-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:#f1f5f9;color:#475569;border-radius:50px;font-size:.75rem;font-weight:600}.role-badge.admin[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.btn-icon.role-toggle[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706}.btn-icon.role-toggle[_ngcontent-%COMP%]:hover{background:#fef3c7}.btn-icon.role-toggle[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f1f5f9;color:#94a3b8}.btn-icon.delete[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f1f5f9;color:#94a3b8}.content-card[_ngcontent-%COMP%]{background:var(--white);border-radius:12px;box-shadow:0 4px 6px #0000000d;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:1rem 1.5rem;background:#fafafa;color:var(--text-light);font-weight:600;font-size:.9rem;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;vertical-align:middle}table[_ngcontent-%COMP%]   .table-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:6px;object-fit:cover}table[_ngcontent-%COMP%]   .product-name-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column}table[_ngcontent-%COMP%]   .product-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--secondary-color)}table[_ngcontent-%COMP%]   .product-name-cell[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-light)}table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:#eef2f7;color:#5c6873;border-radius:50px;font-size:.75rem}table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition)}.btn-icon.edit[_ngcontent-%COMP%]{background:#e3f2fd;color:#2196f3}.btn-icon.edit[_ngcontent-%COMP%]:hover{background:#bbdefb}.btn-icon.delete[_ngcontent-%COMP%]{background:#ffebee;color:#f44336}.btn-icon.delete[_ngcontent-%COMP%]:hover{background:#ffcdd2}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--white);width:100%;max-width:500px;max-height:90vh;border-radius:12px;overflow-y:auto;animation:_ngcontent-%COMP%_slideIn .3s ease;display:flex;flex-direction:column}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;padding:1.5rem;background:var(--white);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-light)}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:1.5rem}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-family:inherit}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]{position:relative;margin-bottom:.5rem}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;width:.1px;height:.1px;opacity:0;overflow:hidden;z-index:-1}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem;background:#f8f9fa;border:2px dashed #ddd;border-radius:8px;cursor:pointer;transition:all .3s ease;color:#666}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-input-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);color:var(--primary-color);background:#e67e220d}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{margin-top:.5rem;width:100%;height:120px;border-radius:8px;overflow:hidden;background:#eee;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:10;padding:1rem 1.5rem;background:var(--white);display:flex;justify-content:flex-end;gap:1rem;border-top:1px solid #eee}.btn-secondary[_ngcontent-%COMP%]{background:#eee;color:var(--text-color)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ddd}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.message-preview[_ngcontent-%COMP%]{max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.9rem;color:#666}']})};export{Z as AdminComponent};
