<div class="cart-page container">
    <h1>Votre Panier</h1>

    <div class="cart-layout">
        <div class="cart-items">
            <div class="cart-item" *ngFor="let item of cartService.cartItems()">
                <img [src]="item.image" alt="Produit">
                <div class="item-details">
                    <h3>{{ item.name }}</h3>
                    <p>{{ item.price }} €</p>
                </div>
                <div class="item-actions">
                    <input type="number" [value]="item.quantity" min="1" (change)="updateQuantity(item.id, $event)">
                    <button class="remove-btn" (click)="removeItem(item.id)"><i class="fas fa-trash"></i></button>
                </div>
            </div>
            <div class="cart-item" *ngIf="cartService.cartItems().length === 0">
                <p>Votre panier est vide.</p>
            </div>
        </div>

        <div class="cart-summary">
            <h2>Résumé</h2>
            <div class="summary-line">
                <span>Sous-total</span>
                <span>{{ cartService.cartTotal() }} €</span>
            </div>
            <div class="summary-line">
                <span>Livraison</span>
                <span>Gratuit</span>
            </div>
            <div class="summary-line total">
                <span>Total</span>
                <span>{{ cartService.cartTotal() }} €</span>
            </div>
            <button class="btn btn-primary checkout-btn" routerLink="/checkout">Commander</button>
        </div>
    </div>
</div>